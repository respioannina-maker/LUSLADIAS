<!DOCTYPE html>
<html lang="el">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>LUS Protocol — CRF & LUS</title>
<style>
  :root{ --bg:#0b1220; --card:#101a2e; --border:#1f2a44; --txt:#e9eefb; --muted:#a9b6d9; --accent:#0A84FF; }
  body{margin:0;background:linear-gradient(180deg,#0b1220,#0e1530);color:var(--txt);font:15px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,"Helvetica Neue",Arial}
  .container{max-width:1200px;margin:24px auto;padding:0 16px}
  .brand{display:flex;justify-content:space-between;align-items:center;border:1px solid var(--border);border-radius:14px;padding:16px 20px;background:linear-gradient(180deg,#0f1830,#0b1328)}
  .brand h1{margin:0;font-size:20px;color:#fff}
  .badge{padding:6px 10px;border-radius:999px;background:rgba(10,132,255,.15);color:#cfe2ff;border:1px solid rgba(10,132,255,.35);font-size:12px}
  .tabs{display:flex;gap:10px;margin:16px 0}
  .tabbtn{padding:10px 14px;border-radius:10px;border:1px solid var(--border);background:var(--card);color:var(--txt);cursor:pointer}
  .tabbtn.active{border-color:var(--accent);box-shadow:0 0 0 2px rgba(10,132,255,.25) inset}
  .grid{display:grid;gap:12px}
  .cols-2{grid-template-columns:repeat(2,1fr)}
  .cols-3{grid-template-columns:repeat(3,1fr)}
  .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:18px;margin-bottom:16px}
  label{font-size:12px;color:var(--muted);display:block;margin-bottom:6px}
  input,select{width:100%;padding:10px;border:1px solid var(--border);border-radius:10px;background:#0f1830;color:var(--txt);outline:none}
  h2,h3{margin:0 0 10px 0;color:#dce6ff}
  .btn{border:none;border-radius:10px;padding:10px 16px;background:linear-gradient(180deg,#0A84FF,#086fe0);color:#fff;font-weight:700;cursor:pointer}
  .btn.secondary{background:transparent;border:1px solid var(--border);color:var(--txt)}
  .row{display:flex;gap:10px;flex-wrap:wrap}
  .hidden{display:none}
  .muted{color:var(--muted);font-size:12px}
  .hint{font-size:12px;color:#cfe2ff}
  .toast{position:fixed;right:16px;bottom:16px;background:rgba(16,185,129,.1);border:1px solid rgba(16,185,129,.5);color:#eafff5;padding:10px 12px;border-radius:10px;display:none}
  .toast.err{background:rgba(239,68,68,.08);border-color:rgba(239,68,68,.5);color:#ffecec}
</style>
</head>
<body>
<div class="container">
  <div class="brand">
    <h1>Πνευμονολογική Κλινική ΠΓΝΙ — LUS Protocol</h1>
    <span class="badge">CRF + LUS + Outcomes</span>
  </div>

  <div class="tabs">
    <button class="tabbtn active" id="tab-combined">Εισαγωγή + D1</button>
    <button class="tabbtn" id="tab-lus">LUS Daily (D2–D7/Exit)</button>
  </div>

  <!-- ===== COMBINED: CRF + D1 LUS ===== -->
  <section id="view-combined">
    <div class="card">
      <h2>CRF (εισαγωγής) + D1 LUS</h2>

      <!-- Ταυτότητα -->
      <div class="grid cols-3">
        <div><label>Χειριστής</label><input id="cmb_operator" placeholder="Παπανικολάου" /></div>
        <div><label>NPS</label><input id="cmb_nps" /></div>
        <div><label>Ημ. εισαγωγής</label><input id="cmb_adm" type="date" /></div>
        <div><label>Όνομα</label><input id="cmb_first" /></div>
        <div><label>Επώνυμο</label><input id="cmb_last" /></div>
        <div><label>Φύλο</label><select id="cmb_sex"><option value="" disabled selected>—</option><option>Άνδρας</option><option>Γυναίκα</option></select></div>
        <div><label>Ηλικία</label><input id="cmb_age" type="number" min="0" /></div>
        <div><label>BMI</label><input id="cmb_bmi" type="number" step="0.1" min="0" /></div>
        <div><label>Κάπνισμα</label><select id="cmb_smoking"><option value="" disabled selected>—</option><option>Όχι</option><option>Ναι</option></select></div>
      </div>

      <!-- Ιστορικό -->
      <h3>Ιστορικό (Ναι/Όχι)</h3>
      <div class="grid cols-3">
        <div><label>ΧΑΠ</label><select id="cmb_copd"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>Άσθμα</label><select id="cmb_asthma"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>Καρδ. ανεπ.</label><select id="cmb_hf"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>ΣΝ</label><select id="cmb_cad"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>AF</label><select id="cmb_af"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>ΣΔ</label><select id="cmb_dm"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>Υπερλιπιδ.</label><select id="cmb_hlp"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>ΑΥ</label><select id="cmb_htn"><option>Όχι</option><option>Ναι</option></select></div>
      </div>

      <!-- Διάγνωση -->
      <h3>Διάγνωση εισαγωγής</h3>
      <input id="cmb_dx" placeholder="π.χ. Οξεία αναπνευστική ανεπάρκεια σε έδαφος..." />

      <!-- Εργαστηριακά εισαγωγής -->
      <h3>Εργαστηριακά (Ημέρα εισαγωγής)</h3>
      <div class="grid cols-3">
        <div><label>CRP</label><input id="cmb_crp" type="number" step="0.1" /></div>
        <div><label>PCT</label><input id="cmb_pct" type="number" step="0.01" /></div>
        <div><label>D-dimer</label><input id="cmb_dd" type="number" step="0.1" /></div>
        <div><label>WBC</label><input id="cmb_wbc" type="number" step="0.1" /></div>
        <div><label>Ουδετ %</label><input id="cmb_neut" type="number" step="0.1" /></div>
        <div><label>Λεμφο %</label><input id="cmb_lymph" type="number" step="0.1" /></div>
        <div><label>Ηωσινόφ %</label><input id="cmb_eos" type="number" step="0.1" /></div>
        <div><label>Μονο %</label><input id="cmb_mono" type="number" step="0.1" /></div>
        <div><label>Κρεατινίνη</label><input id="cmb_crea" type="number" step="0.01" /></div>
        <div><label>Ουρία</label><input id="cmb_urea" type="number" step="0.1" /></div>
        <div><label>ALT</label><input id="cmb_alt" type="number" step="0.1" /></div>
        <div><label>AST</label><input id="cmb_ast" type="number" step="0.1" /></div>
        <div><label>Na</label><input id="cmb_na" type="number" step="0.1" /></div>
        <div><label>K</label><input id="cmb_k" type="number" step="0.1" /></div>
        <div><label>SpO₂ (εισαγ.)</label><input id="cmb_spo2_adm" type="number" step="1" /></div>
        <div><label>FiO₂ (εισαγ.)</label><input id="cmb_fio2_adm" type="number" step="0.01" min="0.21" max="1" /></div>
      </div>

      <!-- D1 LUS + extra -->
      <h3>D1 LUS & Παράμετροι</h3>
      <div class="grid cols-3">
        <div><label>LUS score D1 (0–36)</label><input id="cmb_lus_d1" type="number" min="0" max="36" /></div>
        <div><label>Θέση ασθενούς</label>
          <select id="cmb_position"><option value="" disabled selected>—</option><option>Καθιστός</option><option>Ημικαθιστός</option><option>Ύπτια</option><option>Πλάγια</option></select>
        </div>
        <div><label>Συσκευή Ο₂</label>
          <select id="cmb_device"><option value="" disabled selected>—</option><option>NC</option><option>Mask</option><option>Venturi</option><option>HFNO</option><option>NIV</option></select>
        </div>
        <div><label>Ροή (L/min)</label><input id="cmb_flow" type="number" step="1" /></div>
        <div><label>NIV IPAP (cmH₂O)</label><input id="cmb_ipap" type="number" step="1" /></div>
        <div><label>NIV EPAP (cmH₂O)</label><input id="cmb_epap" type="number" step="1" /></div>
        <div><label>SpO₂ D1 (%)</label><input id="cmb_spo2_d1" type="number" /></div>
        <div><label>FiO₂ D1 (0.21–1.0)</label><input id="cmb_fio2_d1" type="number" step="0.01" min="0.21" max="1" /></div>
        <div><label>S/F ratio D1</label><input id="cmb_sf_d1" disabled class="hint" /></div>
        <div><label>pH (ABG)</label><input id="cmb_ph" type="number" step="0.001" /></div>
        <div><label>PaO₂ (mmHg)</label><input id="cmb_pao2" type="number" step="1" /></div>
        <div><label>PaCO₂ (mmHg)</label><input id="cmb_paco2" type="number" step="1" /></div>
        <div><label>P/F ratio</label><input id="cmb_pf" disabled class="hint" /></div>
      </div>

      <!-- Πλευρίτιδα / Consolidation / Pneumo -->
      <h3>Πλευριτικό υγρό / Consolidation / Pneumo</h3>
      <div class="grid cols-3">
        <div><label>Πλευριτικό υγρό</label><select id="cmb_pleural"><option value="" disabled selected>—</option><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>Πλευρά</label><select id="cmb_side"><option value="" disabled selected>—</option><option>Δεξιά</option><option>Αριστερά</option><option>Αμφοτερόπλευρα</option></select></div>
        <div><label>Interpleural distance (mm)</label><input id="cmb_ipd" type="number" step="1" /></div>
        <div><label>Balik (mL) = 20 × IPD</label><input id="cmb_balik" disabled class="hint" /></div>
        <div><label>Consolidation (cm)</label><input id="cmb_cons" type="number" step="0.1" /></div>
        <div><label>Πνευμοθώρακας</label><select id="cmb_pneumo"><option value="" disabled selected>—</option><option>Όχι</option><option>Ναι</option></select></div>
      </div>

      <div class="row" style="margin-top:12px">
        <button class="btn" id="cmb_submit">Καταχώριση (CRF + D1)</button>
        <span class="muted">Αν αφήσεις κενό το LUS D1 → αποθηκεύεται μόνο το CRF.</span>
      </div>
    </div>
  </section>

  <!-- ===== LUS DAILY (D2–D7/Exit) + OUTCOMES ===== -->
  <section id="view-lus" class="hidden">
    <div class="card">
      <h2>LUS Daily (D2–D7/Exit)</h2>
      <div class="grid cols-3">
        <div><label>Χειριστής</label><input id="lus_operator" placeholder="Παπανικολάου" /></div>
        <div><label>NPS</label><input id="lus_nps" /></div>
        <div><label>Ημέρα</label>
          <select id="lus_day">
            <option>D2</option><option>D3</option><option>D4</option>
            <option>D5</option><option>D6</option><option>D7</option><option>Exit</option>
          </select>
        </div>
      </div>

      <h3>Σκορ & Παράμετροι</h3>
      <div class="grid cols-3">
        <div><label>LUS score (0–36)</label><input id="lus_score" type="number" min="0" max="36" /></div>
        <div><label>Θέση ασθενούς</label>
          <select id="lus_position"><option value="" disabled selected>—</option><option>Καθιστός</option><option>Ημικαθιστός</option><option>Ύπτια</option><option>Πλάγια</option></select>
        </div>
        <div><label>Συσκευή Ο₂</label>
          <select id="lus_device"><option value="" disabled selected>—</option><option>NC</option><option>Mask</option><option>Venturi</option><option>HFNO</option><option>NIV</option></select>
        </div>
        <div><label>Ροή (L/min)</label><input id="lus_flow" type="number" step="1" /></div>
        <div><label>NIV IPAP</label><input id="lus_ipap" type="number" step="1" /></div>
        <div><label>NIV EPAP</label><input id="lus_epap" type="number" step="1" /></div>
        <div><label>SpO₂ (%)</label><input id="lus_spo2" type="number" /></div>
        <div><label>FiO₂ (0.21–1)</label><input id="lus_fio2" type="number" step="0.01" min="0.21" max="1" /></div>
        <div><label>S/F ratio</label><input id="lus_sf" disabled class="hint" /></div>
        <div><label>pH</label><input id="lus_ph" type="number" step="0.001" /></div>
        <div><label>PaO₂</label><input id="lus_pao2" type="number" step="1" /></div>
        <div><label>PaCO₂</label><input id="lus_paco2" type="number" step="1" /></div>
        <div><label>P/F ratio</label><input id="lus_pf" disabled class="hint" /></div>
      </div>

      <h3>Πλευρίτιδα / Consolidation / Pneumo</h3>
      <div class="grid cols-3">
        <div><label>Πλευριτικό υγρό</label><select id="lus_pleural"><option value="" disabled selected>—</option><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>Πλευρά</label><select id="lus_side"><option value="" disabled selected>—</option><option>Δεξιά</option><option>Αριστερά</option><option>Αμφοτερόπλευρα</option></select></div>
        <div><label>Interpleural distance (mm)</label><input id="lus_ipd" type="number" step="1" /></div>
        <div><label>Balik (mL)</label><input id="lus_balik" disabled class="hint" /></div>
        <div><label>Consolidation (cm)</label><input id="lus_cons" type="number" step="0.1" /></div>
        <div><label>Πνευμοθώρακας</label><select id="lus_pneumo"><option value="" disabled selected>—</option><option>Όχι</option><option>Ναι</option></select></div>
      </div>

      <div class="row" style="margin-top:12px">
        <button class="btn" id="lus_submit">Καταχώριση LUS</button>
      </div>
    </div>

    <div class="card">
      <h2>Εκβάσεις</h2>
      <div class="grid cols-3">
        <div><label>NPS</label><input id="out_nps" /></div>
        <div><label>Ημ/νία διακοπής Ο₂</label><input id="out_o2stop" type="date" /></div>
        <div><label>Κλιμάκωση</label><select id="out_escalation"><option value="" disabled selected>—</option><option>Καμία</option><option>HFNO</option><option>NIV</option><option>ΜΕΘ</option></select></div>
        <div><label>Ημ/νία κλιμάκωσης</label><input id="out_escalation_date" type="date" /></div>
        <div><label>Μεταφορά σε ΜΕΘ</label><select id="out_icu"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>Ημ/νία ΜΕΘ</label><input id="out_icu_date" type="date" /></div>
        <div><label>Ημέρες νοσηλείας</label><input id="out_los" type="number" min="0" /></div>
        <div><label>Θνητότητα εν νοσοκ.</label><select id="out_mortality"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>Ημ/νία θανάτου</label><input id="out_mortality_date" type="date" /></div>
        <div><label>Παροχέτευση υγρού</label><select id="out_drain"><option>Όχι</option><option>Ναι</option></select></div>
        <div><label>Ημ/νία παροχέτευσης</label><input id="out_drain_date" type="date" /></div>
        <div><label>Σημειώσεις</label><input id="out_notes" /></div>
      </div>
      <div class="row" style="margin-top:12px">
        <button class="btn" id="out_submit">Καταχώριση Εκβάσεων</button>
      </div>
    </div>
  </section>
</div>

<div id="toast" class="toast"></div>
<script src="app.js"></script>
</body>
</html>
